{% extends 'base.html.twig' %}

{% block title %}Create Account{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #99dab0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', sans-serif;
        }

        .register-container {
            background: #cec4ec;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 450px;
        }

        .logo-title {
            font-size: 2.2rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #28a745;
        }

        .form-label {
            font-weight: 500;
        }

        .required::after {
            content: '*';
            color: red;
            margin-left: 4px;
        }

        .btn-success {
            background-color: #218838;
            border-color: #1e7e34;
        }

        .form-error {
            color: red;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="register-container">
        <div class="logo-title">Create Account</div>

        {% for message in app.flashes('error') %}
            <div class="alert alert-danger">{{ message }}</div>
        {% endfor %}

        {{ form_start(registrationForm) }}
        {{ form_errors(registrationForm) }}

        <div class="mb-3">
            <label class="form-label required">Email</label>
            {{ form_widget(registrationForm.email, { 'attr': {'class': 'form-control'} }) }}
            {{ form_errors(registrationForm.email) }}
        </div>

        <div class="mb-3">
            <label class="form-label required">Password  <small class="text-muted">(at least 6 characters required)</small></label>
            {{ form_widget(registrationForm.plainPassword, { 'attr': {'class': 'form-control'} }) }}
            {{ form_errors(registrationForm.plainPassword) }}
        </div>

        <div class="mb-3">
            <label class="form-label required">Confirm Password</label>
            {{ form_widget(registrationForm.confirmPassword, { 'attr': {'class': 'form-control'} }) }}
            {{ form_errors(registrationForm.plainPassword) }}
        </div>

        <div class="mb-3">
            <label class="form-label required">Name</label>
            {{ form_widget(registrationForm.details.name, { 'attr': {'class': 'form-control'} }) }}
            {{ form_errors(registrationForm.details.name) }}
        </div>

        <div class="mb-3">
            <label class="form-label required">Age</label>
            {{ form_widget(registrationForm.details.age, { 'attr': {'class': 'form-control'} }) }}
            {{ form_errors(registrationForm.details.age) }}
        </div>


        <div class="mb-3">
            <label class="form-label required">Role</label>
            {{ form_widget(registrationForm.role, { 'attr': {'class': 'form-select'} }) }}
            {{ form_errors(registrationForm.role) }}
        </div>

        <button type="submit" class="btn btn-success w-100">Sign up</button>

        {{ form_end(registrationForm) }}
    </div>
{% endblock %}
